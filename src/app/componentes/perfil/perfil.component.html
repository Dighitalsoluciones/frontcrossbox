<div class="profile-container">
  <div class="profile-card">
    <div class="profile-header">
      <div class="profile-avatar-container">
        <div *ngIf="isLoading" class="skeleton-avatar"></div>
        <img
          *ngIf="!isLoading"
          [src]="perfil?.fotoPerfil"
          [alt]="perfil?.nombre"
          class="profile-avatar"
        />
      </div>
      <div *ngIf="isLoading" class="skeleton-text skeleton-name"></div>
      <h2 *ngIf="!isLoading" class="profile-name">{{ perfil?.nombre }}</h2>
      <div *ngIf="isLoading" class="skeleton-text skeleton-email"></div>
      <p *ngIf="!isLoading" class="profile-email">{{ perfil?.email }}</p>
    </div>
    <div class="profile-stats">
      <div *ngFor="let i of [1, 2, 3]">
        <div *ngIf="isLoading" class="skeleton-text skeleton-stat-value"></div>
        <p *ngIf="!isLoading" class="stat-value">
          {{
            i === 1
              ? perfil?.suscripcionActual
              : i === 2
              ? perfil?.clasesTomadas
              : perfil?.clasesRestantes
          }}
        </p>
        <div *ngIf="isLoading" class="skeleton-text skeleton-stat-label"></div>
        <p *ngIf="!isLoading" class="stat-label">
          {{
            i === 1
              ? "Clases Actuales"
              : i === 2
              ? "Clases Tomadas"
              : "Clases Restantes"
          }}
        </p>
      </div>
    </div>
    <p *ngIf="!isLoading && perfil?.suscripcionActual <= 0" class="no-classes">
      SIN CLASES DISPONIBLES
    </p>
    <div class="profile-actions">
      <div *ngIf="isLoading" class="skeleton-button"></div>
      <button
        *ngIf="!isLoading"
        class="btn btn-outline-primary"
        routerLink="/misreservas"
      >
        <i class="fas fa-calendar-check mr-2"></i> Mis Reservas
      </button>
      <div *ngIf="isLoading" class="skeleton-button"></div>
      <button *ngIf="!isLoading" class="btn btn-dark" routerLink="/reservar">
        <i class="fas fa-plus-circle mr-2"></i> Nueva Reserva
      </button>
    </div>
    <div class="profile-footer">
      <div *ngIf="isLoading" class="skeleton-text skeleton-date-label"></div>
      <p *ngIf="!isLoading" class="subscription-date">
        Fecha Última Suscripción
      </p>
      <div *ngIf="isLoading" class="skeleton-text skeleton-date"></div>
      <p *ngIf="!isLoading" class="fw-medium">{{ perfil?.fechaActualSus }}</p>
      <div class="d-flex justify-content-center gap-2 mt-3">
        <div *ngIf="isLoading" class="skeleton-button"></div>
        <button
          *ngIf="!isLoading"
          class="btn btn-outline-secondary"
          routerLink="/editperfil"
        >
          <i class="fas fa-pencil-alt mr-2"></i> Editar Perfil
        </button>
        <div *ngIf="isLoading" class="skeleton-button"></div>
        <button *ngIf="!isLoading" class="btn btn-secondary" routerLink="">
          <i class="fas fa-home mr-2"></i> Volver
        </button>
      </div>
    </div>
  </div>
</div>
